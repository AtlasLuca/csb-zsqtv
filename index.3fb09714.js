document.getElementById("app").innerHTML='\n<div id="outer" style="">\n  <canvas id="canvas" width="600" height="600" style="border: solid black 0px;">\n    Your browser does not support canvas elements.\n  </canvas>\n  <div id="bottombar">\n    <button id="modebutton">Draw</button>\n    <button id="backgroundbutton">No lines</button>\n    <input id="size" type="number" min="5" max="50" value="10" step="5" class="size">\n    <input id="color" type="color"></button>\n  </div>\n</div id="outer">\n<canvas id="pattern" width="50" height="50" style="display: none; left: 50px;"></canvas>\n<canvas id="clone" style="display: none;">If you can see this than you might have CSS disabled</canvas>\n';var e=[],t=!1,n=0,i=[],o="";function d(e){let t;return t=document.getElementById("color").value,t}function a({identifier:e,pageX:t,pageY:n}){return{identifier:e,pageX:t,pageY:n}}function r(t){for(var n=0;n<e.length;n++){if(e[n].identifier===t)return n}return-1}function l(t){t.preventDefault();var o=document.getElementById("canvas");if(o.width!==window.innerWidth||o.height!==window.innerHeight-30){o.width=window.innerWidth.toString(),o.style.width=window.innerWidth,o.height=(window.innerHeight-30).toString(),o.style.height=window.innerHeight-30;var d=document.getElementById("clone");d.width=window.innerWidth.toString(),d.style.width=window.innerWidth,d.height=(window.innerHeight-30).toString(),d.style.height=window.innerHeight-30}var r=t.changedTouches;3!==n&&2!==n||document.getElementById("clone").getContext("2d").drawImage(o,0,0);for(var l=0;l<r.length;l++)e.length<=1&&e.push(a(r[l])),i[l]=r[l]}function g(l){l.preventDefault();for(var g=document.getElementById("canvas").getContext("2d"),h=l.changedTouches,c=0;c<h.length;c++){var s=d(h[c]),u=r(h[c].identifier);if(u>=0){g.beginPath();var f=document.getElementById("size").value;if(0===h[c].force?g.lineWidth=f:g.lineWidth=h[c].force*f,g.strokeStyle=s,g.lineCap="round",0===n)g.moveTo(e[u].pageX,e[u].pageY),g.lineTo(h[c].pageX,h[c].pageY),g.stroke();else if(1===n)g.lineWidth=2*f,g.strokeStyle=t?o:"#ffffff",g.moveTo(e[u].pageX,e[u].pageY),g.lineTo(h[c].pageX,h[c].pageY),g.stroke();else if(2===n){if(0===c){g.drawImage(document.getElementById("clone"),0,0);var v=Math.sqrt(Math.pow(i[c].pageX-h[c].pageX,2)+Math.pow(i[c].pageY-h[c].pageY,2));g.arc(i[c].pageX,i[c].pageY,v,0,2*Math.PI,!0),g.stroke()}}else 3===n&&0===c&&(g.drawImage(document.getElementById("clone"),0,0),g.moveTo(i[c].pageX,i[c].pageY),g.lineTo(h[c].pageX,h[c].pageY),g.stroke());e.splice(u,1,a(h[c]))}}}function h(t){t.preventDefault();for(var o=document.getElementById("canvas").getContext("2d"),a=t.changedTouches,l=0;l<a.length;l++){var g=d(a[l]),h=r(a[l].identifier);if(h>=0){if(o.lineWidth=4,o.fillStyle=g,o.beginPath(),2===n){var c=Math.sqrt(Math.pow(i[l].pageX-a[l].pageX,2)+Math.pow(i[l].pageY-a[l].pageY,2));o.arc(i[l].pageX,i[l].pageY,c,0,2*Math.PI,!0),o.stroke()}else 3===n&&(o.drawImage(document.getElementById("clone"),0,0),o.moveTo(i[l].pageX,i[l].pageY),o.lineTo(a[l].pageX,a[l].pageY),o.stroke());e.splice(h,1)}}}function c(t){t.preventDefault();for(var n=t.changedTouches,i=0;i<n.length;i++){var o=r(n[i].identifier);e.splice(o,1)}}function s(){var e=document.getElementById("canvas");if(null!=e){if(document.removeEventListener("mousemove",s),document.removeEventListener("startTouches",s,!1),function(){var e=document.getElementById("pattern"),t=e.getContext("2d");t.fillStyle="black",t.fillRect(0,0,50,50),t.fillStyle="white",t.fillRect(1,1,48,48),o=t.createPattern(e,"repeat")}(),e.width!==window.innerWidth||e.height!==window.innerHeight-30){e.width=window.innerWidth.toString(),e.style.width=window.innerWidth,e.height=(window.innerHeight-30).toString(),e.style.height=window.innerHeight-30;var i=document.getElementById("clone");i.width=window.innerWidth.toString(),i.style.width=window.innerWidth,i.height=(window.innerHeight-30).toString(),i.style.height=window.innerHeight-30}var d=e.getContext("2d");d.fillStyle="#ffffff",d.fillRect(0,0,e.width,e.height),d.stroke(),e.addEventListener("touchstart",l,!1),e.addEventListener("touchend",h,!1),e.addEventListener("touchcancel",c,!1),e.addEventListener("touchmove",g,!1),document.getElementById("modebutton").addEventListener("click",(e=>{var t=this.getElementById("modebutton");0===n?(t.innerHTML="Erase",n=1):1===n?(t.innerHTML="Circle",n=2):2===n?(t.innerHTML="Line",n=3):3===n&&(t.innerHTML="Draw",n=0)})),document.getElementById("backgroundbutton").addEventListener("click",(e=>{var n=this.getElementById("backgroundbutton");t?(t=!1,n.innerHTML="No lines"):(t=!0,n.innerHTML="Lines"),function(){var e=document.getElementById("canvas"),n=e.getContext("2d");t?(n.fillStyle=o,n.fillRect(0,0,e.width,e.height)):(n.fillStyle="#ffffff",n.fillRect(0,0,e.width,e.height),n.stroke())}()}))}}document.addEventListener("load",(()=>s)),document.addEventListener("startTouches",s,!1),document.addEventListener("mousemove",s);
//# sourceMappingURL=index.3fb09714.js.map
